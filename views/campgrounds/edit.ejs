<%- include("../partials/headers.ejs") %>

<div class="container">
    <div class="grid">
      <h1 style="text-align: center;">  Edit <%=campground.name%></h1>
        <div style="width: 30%; margin: 20px auto; ">
          <form action="/campgrounds/<%=campground._id%>?_method=PUT" method="POST" enctype="multipart/form-data">
            <div class="form-group">
              <input class="form-control" type="text" value="<%=campground.name%>" name="campground[name]" required>
            </div>
            <div class='form-group'>
              <div class="custom-file">
                  <input type="file" class="custom-file-input" id="customFile" name='image' multiple>
                  <label class="custom-file-label" for="customFile">Choose image(s)...</label>
              </div>
            </div>
            <div class="form-group">
              <label for="location">Location</label>
              <input class="form-control" type="text" name="campground[location]" id="location" value="<%=campground.location%>" required>
            </div>
            <div class="form-group">
              <input class="form-control" type="text" value="<%=campground.description%>" name="campground[description]" required>
            </div>
            <div class='mb-3'>
              <%campground.image.forEach((img, i)=>{%>
                     <img src="<%=img.url%>" class="img-thumbnail" alt="">
                     <div class='form-check-inline'>
                       <input type='checkbox' id='image-<%=i%>' name='deleteImages[]' value='<%=img.filename%>'>
                     </div>
                       <label for='image-<%=i%>'>Delete?</label>
                <%})%>
            </div>
            <div class="form-group">
              <button class="btn btn-lg btn-dark btn-block">Update</button>
            </div>
          </form>
        <a  href="/campgrounds">Go Back</a>
        </div>
    </div>
</div>

    <script>
      bsCustomFileInput.init()
    </script>

<%- include("../partials/footer.ejs") %>
